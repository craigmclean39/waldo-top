{"version":3,"sources":["images/characters/odlaw-small.png","images/characters/waldo-small.png","images/characters/wenda-small.png","images/characters/whitebeard-small.png","images/stages sync /^/.//.*//thumbnail/.png$","images/stages/stage-1/thumbnail.png","images/stages/stage-2/thumbnail.png","images/stages/stage-3/thumbnail.png","images/stages/stage-4/thumbnail.png","images/stages sync /^/.//.*//gameplay/.png$","images/stages/stage-1/gameplay.png","images/stages/stage-2/gameplay.png","images/stages/stage-3/gameplay.png","images/stages/stage-4/gameplay.png","images/characters sync /^/.//.*/.png$","images/characters/odlaw.png","images/characters/waldo.png","images/characters/wenda.png","images/characters/whitebeard.png","images/characters sync /^/.//.*/-small/.png$","context/StageContext.ts","components/StageSelectCard.tsx","components/StageSelect.tsx","images/logo.png","components/Header.tsx","pages/Home.tsx","pages/Pregame.tsx","components/CharacterSelect.tsx","images/focus.png","pages/Gameplay.tsx","components/LeaderboardRow.tsx","components/LeaderboardForm.tsx","pages/Leaderboard.tsx","hooks/useFirebase.js","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","StageContext","React","createContext","StageSelectCard","stage","selectStage","reqImg","require","path","default","className","displayName","src","alt","onClick","StageSelect","stages","cards","Header","hasTimer","stopTimer","history","useHistory","intervalRef","useRef","useState","time","setTime","prevTimerValue","timerFunc","useCallback","current","toFixed","useEffect","setInterval","clearInterval","replace","pathname","Logo","Home","useContext","characters","stageSelectProps","stageCharacters","i","characterIds","length","j","push","state","Pregame","location","useLocation","charImages","character","to","image","CharacterSelect","x","y","checkCharacter","characterStatus","style","top","left","additionalClasses","characterId","found","Gameplay","reticles","setReticles","showCharacterSelect","setShowCharacterSelect","clickAdjustedToImageX","setClickAdjustedToImageX","clickAdjustedToImageY","setClickAdjustedToImageY","clickPageX","setClickPageX","clickPageY","setClickPageY","setCharacterStatus","userSessionId","setUserSessionId","timerStopped","setTimerStopped","imageDomRef","imageOffsetLeft","setImageOffsetLeft","imageOffsetTop","setImageOffsetTop","foundOverlayVisible","setFoundOverlayVisible","foundCharacterDisplayName","setFoundCharacterDisplayName","createUserSessionInDbWithStartTime","window","addEventListener","offsetTop","offsetLeft","handleClick","pageX","pageY","console","log","innerWidth","clientX","a","addDoc","collection","getFirestore","startTime","serverTimestamp","docRef","addEndTimeToUserSession","endTime","setDoc","merge","addTotalTimeToUserSession","totalTime","updateUserSessionWithEndTimeAndTotalTime","doc","getDoc","exists","newSnap","timeInSeconds","data","toMillis","Number","toPrecision","docSnap","charPosition","get","xClick","yClick","radius","Math","sqrt","pow","newCharacterStatus","newReticles","newReticle","setTimeout","checkGameOver","gameOver","gotoLeaderboard","sessionId","headerProps","reticleImgElements","retPos","ReticleImage","ref","LeaderboardRow","entry","isUser","position","name","score","LeaderboardForm","submitName","handleChange","onSubmit","type","onChange","value","maxLength","Leaderboard","nameEntered","setNameEntered","setName","leaderboard","setLeaderboard","setScore","userIsInTop10","setUserIsInTop10","preventDefault","addUserScoreToLeaderboard","deleteSession","loadLeaderboard","leaderBoardRef","q","query","orderBy","limit","loadedLeaderboard","getDocs","forEach","getUsersScore","userScore","deleteDoc","formProps","currentTarget","index","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","App","stageContextValue","initializeApp","Provider","basename","process","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ac766e2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/odlaw-small.208e5d8b.png\";","export default __webpack_public_path__ + \"static/media/waldo-small.074e131a.png\";","export default __webpack_public_path__ + \"static/media/wenda-small.a4f24bd9.png\";","export default __webpack_public_path__ + \"static/media/whitebeard-small.e4d48c9e.png\";","var map = {\n\t\"./stage-1/thumbnail.png\": 55,\n\t\"./stage-2/thumbnail.png\": 56,\n\t\"./stage-3/thumbnail.png\": 57,\n\t\"./stage-4/thumbnail.png\": 58\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 54;","export default __webpack_public_path__ + \"static/media/thumbnail.5d55d6f9.png\";","export default __webpack_public_path__ + \"static/media/thumbnail.baa3b0f4.png\";","export default __webpack_public_path__ + \"static/media/thumbnail.9a5d32c3.png\";","export default __webpack_public_path__ + \"static/media/thumbnail.94a99faf.png\";","var map = {\n\t\"./stage-1/gameplay.png\": 67,\n\t\"./stage-2/gameplay.png\": 68,\n\t\"./stage-3/gameplay.png\": 69,\n\t\"./stage-4/gameplay.png\": 70\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 66;","export default __webpack_public_path__ + \"static/media/gameplay.3d124ddf.png\";","export default __webpack_public_path__ + \"static/media/gameplay.f0da6319.png\";","export default __webpack_public_path__ + \"static/media/gameplay.29a41106.png\";","export default __webpack_public_path__ + \"static/media/gameplay.70ed3b11.png\";","var map = {\n\t\"./odlaw-small.png\": 40,\n\t\"./odlaw.png\": 72,\n\t\"./waldo-small.png\": 41,\n\t\"./waldo.png\": 73,\n\t\"./wenda-small.png\": 42,\n\t\"./wenda.png\": 74,\n\t\"./whitebeard-small.png\": 43,\n\t\"./whitebeard.png\": 75\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 71;","export default __webpack_public_path__ + \"static/media/odlaw.64657574.png\";","export default __webpack_public_path__ + \"static/media/waldo.74bef414.png\";","export default __webpack_public_path__ + \"static/media/wenda.645fc250.png\";","export default __webpack_public_path__ + \"static/media/whitebeard.2f7a3c16.png\";","var map = {\n\t\"./odlaw-small.png\": 40,\n\t\"./waldo-small.png\": 41,\n\t\"./wenda-small.png\": 42,\n\t\"./whitebeard-small.png\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 77;","import React from 'react';\nimport { Character, Stage } from '../types';\n\nexport type StageContextType = {\n  stages: Stage[];\n  characters: Character[];\n};\n\nexport const StageContext = React.createContext<StageContextType | null>(null);\n","import { StageSelectCardProps } from '../types';\n\nconst StageSelectCard: React.FC<StageSelectCardProps> = ({\n  stage,\n  selectStage,\n}) => {\n  const reqImg =\n    require(`../images/stages/${stage.path}/thumbnail.png`).default;\n\n  return (\n    <div className='stage-card'>\n      <h4 className='stage-card__title'>{stage.displayName}</h4>\n      <img\n        className='stage-card__image'\n        src={reqImg}\n        alt={stage.id}\n        onClick={() => selectStage(stage)}></img>\n    </div>\n  );\n};\n\nexport { StageSelectCard };\n","import { StageSelectProps } from '../types';\nimport { StageSelectCard } from './StageSelectCard';\n\nconst StageSelect: React.FC<StageSelectProps> = ({ stages, selectStage }) => {\n  const cards = stages.map((stage) => {\n    return (\n      <StageSelectCard stage={stage} key={stage.id} selectStage={selectStage} />\n    );\n  });\n\n  return (\n    <>\n      <div className='full-screen-flex'>\n        <div className='inner-container'>\n          <h3 className='stage-select__title'>Select your stage</h3>\n          <div className='inner-container-flex'>{cards}</div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport { StageSelect };\n","export default __webpack_public_path__ + \"static/media/logo.bffd375b.png\";","import Logo from '../images/logo.png';\n\nimport { useHistory } from 'react-router';\nimport { HeaderProps } from '../types';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nconst Header: React.FC<HeaderProps> = ({ hasTimer, stopTimer }) => {\n  const history = useHistory();\n  const intervalRef = useRef<any>();\n  const [time, setTime] = useState('');\n  const prevTimerValue = useRef(0);\n\n  const timerFunc = useCallback(() => {\n    if (!stopTimer) {\n      prevTimerValue.current = prevTimerValue.current + 100;\n    }\n\n    setTime((prevTimerValue.current / 1000).toFixed(2));\n  }, [stopTimer]);\n\n  useEffect(() => {\n    if (hasTimer) {\n      intervalRef.current = setInterval(timerFunc, 100);\n    }\n\n    return () => {\n      if (hasTimer) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [hasTimer, stopTimer, timerFunc]);\n\n  const backToHome = () => {\n    history.replace({\n      pathname: '/',\n    });\n  };\n\n  return (\n    <>\n      <div className='header'>\n        <div className='innerHeader'>\n          <div onClick={backToHome}>\n            <div className='header__title-logo'>\n              <img src={Logo} className='header__logo' alt=''></img>\n              <div className='header__title-flex'>\n                <h1 className='header__title title-blue'>WHERE'S</h1>\n                <h1 className='header__title title-red'>WALDO</h1>\n              </div>\n            </div>\n          </div>\n          {hasTimer ? <div className='timer'>{time}</div> : null}\n        </div>\n      </div>\n      <div className='invisible-header'></div>\n    </>\n  );\n};\n\nexport { Header };\n","import { useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport { StageContext, StageContextType } from '../context/StageContext';\nimport { StageSelect } from '../components/StageSelect';\nimport { StageSelectProps, Stage, Character } from '../types';\nimport { Header } from '../components/Header';\n\nconst Home = () => {\n  const { stages, characters } = useContext(StageContext) as StageContextType;\n  const history = useHistory();\n\n  const selectStage = (stage: Stage) => {\n    const stageCharacters: Character[] = [];\n    for (let i = 0; i < stage.characterIds.length; i++) {\n      for (let j = 0; j < characters.length; j++) {\n        if (stage.characterIds[i] === characters[j].id) {\n          stageCharacters.push(characters[j]);\n        }\n      }\n    }\n\n    history.push({\n      pathname: '/pregame',\n      state: {\n        stage: stage,\n        characters: stageCharacters,\n      },\n    });\n  };\n\n  const stageSelectProps: StageSelectProps = {\n    stages: stages,\n    selectStage: selectStage,\n  };\n\n  return (\n    <>\n      <Header /> <StageSelect {...stageSelectProps} />\n    </>\n  );\n};\n\nexport { Home };\n","import { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { Stage, Character } from '../types';\nimport { Header } from '../components/Header';\n\ninterface PregameLocationState {\n  state: {\n    stage: Stage;\n    characters: Character[];\n  };\n}\n\nconst Pregame = () => {\n  const location = useLocation() as PregameLocationState;\n  const stage = location.state.stage;\n\n  const reqImg = require(`../images/stages/${stage.path}/gameplay.png`).default;\n  const charImages = location.state.characters.map((character) => {\n    return (\n      <img\n        className='pregame__character'\n        src={require(`../images/characters/${character.path}.png`).default}\n        alt={character.displayName}\n        key={character.path}></img>\n    );\n  });\n\n  return (\n    <>\n      <Header />\n      <div className='pregame-flex'>\n        <div className='pregame'>\n          <div className='pregame__text-container'>\n            <h3 className='pregame__title'>{stage.displayName}</h3>\n            <p className='pregame__description'>\n              Find the following characters\n            </p>\n          </div>\n          <div className='pregame__characters-container'>{charImages}</div>\n\n          <Link\n            className='pregame__start-game-button link'\n            to={{\n              pathname: '/gameplay',\n              state: {\n                stage: location.state.stage,\n                image: reqImg,\n                characters: location.state.characters,\n              },\n            }}\n            replace>\n            START GAME\n          </Link>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport { Pregame };\n","import { CharacterSelectProps } from '../types';\n\nconst CharacterSelect: React.FC<CharacterSelectProps> = ({\n  x,\n  y,\n  characters,\n  checkCharacter,\n  characterStatus,\n}) => {\n  return (\n    <div className='character-select' style={{ top: y, left: x }}>\n      {characters.map((character) => {\n        let additionalClasses = '';\n        for (let i = 0; i < characterStatus.length; i++) {\n          if (character.id === characterStatus[i].characterId) {\n            if (!characterStatus[i].found) {\n              additionalClasses = 'character--selectable';\n            } else {\n              additionalClasses = 'character--inactive';\n            }\n          }\n        }\n\n        return (\n          <img\n            src={\n              require(`../images/characters/${character.path}-small.png`)\n                .default\n            }\n            onClick={() => {\n              checkCharacter(character.id);\n            }}\n            alt={character.displayName}\n            key={character.id}\n            className={`character-select__character ${additionalClasses}`}></img>\n        );\n      })}\n    </div>\n  );\n};\n\nexport { CharacterSelect };\n","export default __webpack_public_path__ + \"static/media/focus.d21650fc.png\";","import { useHistory, useLocation } from 'react-router';\nimport {\n  Stage,\n  Character,\n  CharacterStatus,\n  HeaderProps,\n  ReticlePosition,\n} from '../types';\nimport { useEffect, useRef, useState } from 'react';\nimport { CharacterSelect } from '../components/CharacterSelect';\nimport { Header } from '../components/Header';\nimport ReticleImage from '../images/focus.png';\n\nimport {\n  getFirestore,\n  getDoc,\n  doc,\n  addDoc,\n  setDoc,\n  collection,\n  serverTimestamp,\n  DocumentReference,\n  DocumentData,\n  FieldValue,\n} from 'firebase/firestore';\n\ninterface GameplayLocationState {\n  state: {\n    stage: Stage;\n    image: string;\n    characters: Character[];\n  };\n}\n\nconst Gameplay = () => {\n  const location = useLocation() as GameplayLocationState;\n  const image = useRef(location.state.image);\n  const stage = useRef(location.state.stage);\n  const characters = useRef(location.state.characters);\n  const [reticles, setReticles] = useState<ReticlePosition[]>([]);\n  const [showCharacterSelect, setShowCharacterSelect] = useState(false);\n\n  const [clickAdjustedToImageX, setClickAdjustedToImageX] = useState(0);\n  const [clickAdjustedToImageY, setClickAdjustedToImageY] = useState(0);\n  const [clickPageX, setClickPageX] = useState(0);\n  const [clickPageY, setClickPageY] = useState(0);\n\n  const [characterStatus, setCharacterStatus] = useState<CharacterStatus[]>([]);\n  const [userSessionId, setUserSessionId] = useState('');\n\n  const [timerStopped, setTimerStopped] = useState(false);\n\n  const history = useHistory();\n\n  let imageDomRef: HTMLImageElement | null = null;\n  const [imageOffsetLeft, setImageOffsetLeft] = useState(0);\n  const [imageOffsetTop, setImageOffsetTop] = useState(0);\n\n  const [foundOverlayVisible, setFoundOverlayVisible] = useState(false);\n  const [foundCharacterDisplayName, setFoundCharacterDisplayName] =\n    useState('');\n\n  useEffect(() => {\n    setCharacterStatus(\n      characters.current.map((character) => {\n        const charStatus: CharacterStatus = {\n          characterId: character.id,\n          found: false,\n        };\n        return charStatus;\n      })\n    );\n  }, []);\n\n  useEffect(() => {\n    //Make an entry in the database with a server timestamp for leaderboard purposes\n    createUserSessionInDbWithStartTime();\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('resize', () => {\n      if (imageDomRef != null) {\n        setImageOffsetTop(imageDomRef.offsetTop);\n        setImageOffsetLeft(imageDomRef.offsetLeft);\n      }\n    });\n  }, [imageDomRef]);\n\n  const handleClick = (e: any) => {\n    setShowCharacterSelect(!showCharacterSelect);\n    setClickAdjustedToImageX(e.pageX - imageOffsetLeft);\n    setClickAdjustedToImageY(e.pageY - imageOffsetTop);\n\n    console.log(e);\n    console.log(window);\n\n    setClickPageX(e.pageX);\n    setClickPageY(e.pageY);\n\n    //If the select character overlay is going to fall off the screen, move it over\n    if (window.innerWidth - e.clientX < 135) {\n      setClickPageX(e.pageX - (135 - (window.innerWidth - e.clientX)));\n    }\n  };\n\n  const imageRefCallback = (e: HTMLImageElement) => {\n    if (e != null) {\n      setImageOffsetLeft(e.offsetLeft);\n      setImageOffsetTop(e.offsetTop);\n      imageDomRef = e;\n    }\n  };\n\n  const checkIfClickIsWithinRadiusOfCoordinates = (\n    xClick: number,\n    yClick: number,\n    x: number,\n    y: number,\n    radius: number\n  ) => {\n    if (\n      Math.sqrt(Math.pow(xClick - x, 2) + Math.pow(yClick - y, 2)) <= radius\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  const createUserSessionInDbWithStartTime = async () => {\n    const docRef = await addDoc(collection(getFirestore(), 'userTimestamps'), {\n      startTime: serverTimestamp(),\n    });\n    // ('Document written with ID: ', docRef.id);\n    setUserSessionId(docRef.id);\n    return docRef.id;\n  };\n\n  const addEndTimeToUserSession = async (\n    docRef: DocumentReference<DocumentData>,\n    endTime: FieldValue\n  ) => {\n    await setDoc(\n      docRef,\n      {\n        endTime: endTime,\n      },\n      { merge: true }\n    );\n  };\n\n  const addTotalTimeToUserSession = async (\n    docRef: DocumentReference<DocumentData>,\n    totalTime: number\n  ) => {\n    await setDoc(\n      docRef,\n      {\n        totalTime: totalTime,\n      },\n      { merge: true }\n    );\n  };\n\n  const updateUserSessionWithEndTimeAndTotalTime = async () => {\n    const endTime = serverTimestamp();\n    const docRef = doc(getFirestore(), 'userTimestamps', userSessionId);\n    const docSnap = await getDoc(docRef);\n\n    if (docSnap.exists()) {\n      await addEndTimeToUserSession(docRef, endTime);\n\n      const newSnap = await getDoc(docRef);\n\n      if (newSnap.exists()) {\n        let timeInSeconds =\n          (newSnap.data().endTime.toMillis() -\n            newSnap.data().startTime.toMillis()) /\n          1000;\n\n        timeInSeconds = Number(timeInSeconds.toPrecision(4));\n\n        await addTotalTimeToUserSession(docRef, timeInSeconds);\n      }\n    } else {\n      // console.log('No such document!');\n    }\n  };\n\n  const checkCharacter = async (characterId: string) => {\n    const docRef = doc(\n      getFirestore(),\n      'characterPositions',\n      `${stage.current.path}`\n    );\n    const docSnap = await getDoc(docRef);\n\n    if (docSnap.exists()) {\n      const charPosition = docSnap.get(characterId);\n\n      if (\n        checkIfClickIsWithinRadiusOfCoordinates(\n          clickAdjustedToImageX,\n          clickAdjustedToImageY,\n          charPosition[0],\n          charPosition[1],\n          25\n        )\n      ) {\n        for (let i = 0; i < characterStatus.length; i++) {\n          if (characterStatus[i].characterId === characterId) {\n            if (!characterStatus[i].found) {\n              const newCharacterStatus = [...characterStatus];\n              newCharacterStatus[i].found = true;\n              setCharacterStatus(newCharacterStatus);\n\n              const newReticles = [...reticles];\n              const newReticle = {\n                x: clickAdjustedToImageX,\n                y: clickAdjustedToImageY,\n              };\n              newReticles.push(newReticle);\n              setReticles(newReticles);\n\n              setFoundOverlayVisible(true);\n              for (let i = 0; i < characters.current.length; i++) {\n                if (characters.current[i].id === characterId) {\n                  setFoundCharacterDisplayName(\n                    characters.current[i].displayName\n                  );\n                  break;\n                }\n              }\n\n              setTimeout(() => {\n                setFoundOverlayVisible(false);\n              }, 1500);\n\n              break;\n            }\n          }\n        }\n      }\n    } else {\n      // doc.data() will be undefined in this case\n      // console.log('No such document!');\n    }\n\n    setShowCharacterSelect(false);\n    checkGameOver();\n  };\n\n  const checkGameOver = async () => {\n    let gameOver = true;\n    for (let i = 0; i < characterStatus.length; i++) {\n      if (characterStatus[i].found === false) {\n        gameOver = false;\n        break;\n      }\n    }\n\n    if (gameOver) {\n      setTimerStopped(true);\n      await updateUserSessionWithEndTimeAndTotalTime();\n      setTimeout(gotoLeaderboard, 1000);\n    }\n  };\n\n  const gotoLeaderboard = () => {\n    history.replace({\n      pathname: '/leaderboard',\n      state: {\n        stage: stage.current,\n        sessionId: userSessionId,\n      },\n    });\n  };\n\n  const headerProps: HeaderProps = {\n    hasTimer: true,\n    stopTimer: timerStopped,\n  };\n\n  const reticleImgElements = reticles.map((retPos) => {\n    return (\n      <img\n        src={ReticleImage}\n        alt=''\n        className='reticle'\n        style={{\n          top: retPos.y - 25 + imageOffsetTop,\n          left: retPos.x - 25 + imageOffsetLeft,\n        }}></img>\n    );\n  });\n\n  return (\n    <>\n      <Header {...headerProps} />\n      {showCharacterSelect ? (\n        <CharacterSelect\n          x={clickPageX}\n          y={clickPageY}\n          checkCharacter={checkCharacter}\n          characters={characters.current}\n          characterStatus={characterStatus}\n        />\n      ) : null}\n      <div className='gameplay__image-flex'>\n        <img\n          ref={imageRefCallback}\n          src={image.current}\n          alt={stage.current.id}\n          onClick={(e) => {\n            handleClick(e);\n          }}></img>\n      </div>\n      {reticleImgElements}\n      {foundOverlayVisible ? (\n        <div\n          className='gameplay__found-container'\n          onClick={(e) => {\n            setFoundOverlayVisible(false);\n            handleClick(e);\n          }}>\n          <div className='gameplay__found slide-in-fwd-center'>{`You found ${foundCharacterDisplayName}`}</div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport { Gameplay };\n","import { LeaderboardRowProps } from '../types';\n\nconst LeaderboardRow: React.FC<LeaderboardRowProps> = ({ entry }) => {\n  return (\n    <div\n      className={\n        entry.isUser\n          ? 'leaderboard-entry leaderboard-user'\n          : 'leaderboard-entry'\n      }\n      key={entry.name + entry.score}>\n      <div className='leaderboard-pos-name'>\n        <div className='leaderboard-position'>{entry.position}</div>\n        <div className='leaderboard-name'>{entry.name}</div>\n      </div>\n      <div className='leaderboard-score'>{entry.score}</div>\n    </div>\n  );\n};\n\nexport default LeaderboardRow;\n","import { LeaderboardFormProps } from '../types';\nconst LeaderboardForm: React.FC<LeaderboardFormProps> = ({\n  submitName,\n  handleChange,\n  name,\n}) => {\n  return (\n    <div className='leaderboard-form-container'>\n      <div className='leaderboard-form__title'>Enter your name</div>\n      <form className='leaderboard-form' onSubmit={submitName}>\n        <input\n          className='leaderboard-form__text-input'\n          type='text'\n          onChange={handleChange}\n          value={name}\n          maxLength={15}></input>\n        <button className='pregame__start-game-button' type='submit'>\n          SUBMIT\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default LeaderboardForm;\n","import { LeaderboardFormProps, Stage } from '../types';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { useRef, useState, SyntheticEvent } from 'react';\nimport {\n  getFirestore,\n  getDoc,\n  doc,\n  addDoc,\n  collection,\n  query,\n  orderBy,\n  limit,\n  getDocs,\n  deleteDoc,\n} from 'firebase/firestore';\n\nimport { Header } from '../components/Header';\nimport { LeaderboardEntry } from '../types';\nimport LeaderboardRow from '../components/LeaderboardRow';\nimport LeaderboardForm from '../components/LeaderboardForm';\n\ninterface LeaderboardLocationState {\n  state: {\n    stage: Stage;\n    sessionId: string;\n  };\n}\n\nconst Leaderboard = () => {\n  const location = useLocation() as LeaderboardLocationState;\n  const sessionId = useRef(location.state.sessionId);\n  const stage = useRef(location.state.stage);\n  const [nameEntered, setNameEntered] = useState(false);\n  const [name, setName] = useState('');\n  const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>([]);\n  const [score, setScore] = useState(0);\n  const [userIsInTop10, setUserIsInTop10] = useState(false);\n\n  const submitName = async (e: SyntheticEvent) => {\n    e.preventDefault();\n    await addUserScoreToLeaderboard();\n    await deleteSession();\n    await loadLeaderboard();\n  };\n\n  const loadLeaderboard = async () => {\n    const leaderBoardRef = collection(\n      getFirestore(),\n      `${stage.current.path}-leaderboard`\n    );\n    const q = query(leaderBoardRef, orderBy('score'), limit(10));\n\n    const loadedLeaderboard: LeaderboardEntry[] = [];\n\n    const querySnapshot = await getDocs(q);\n\n    querySnapshot.forEach((doc) => {\n      if (doc.data().sessionId === sessionId.current) {\n        setUserIsInTop10(true);\n      }\n      const entry: LeaderboardEntry = {\n        name: doc.data().name,\n        score: doc.data().score,\n        isUser: doc.data().sessionId === sessionId.current ? true : false,\n      };\n      loadedLeaderboard.push(entry);\n    });\n\n    setLeaderboard(loadedLeaderboard);\n  };\n\n  const addUserScoreToLeaderboard = async () => {\n    const userScore = await getUsersScore();\n\n    setScore(userScore);\n    await addDoc(\n      collection(getFirestore(), `${stage.current.path}-leaderboard`),\n      {\n        name: name,\n        score: userScore,\n        sessionId: sessionId.current,\n      }\n    );\n\n    setNameEntered(true);\n  };\n\n  const deleteSession = async () => {\n    await deleteDoc(doc(getFirestore(), 'userTimestamps', sessionId.current));\n  };\n\n  const getUsersScore = async () => {\n    const docRef = doc(getFirestore(), 'userTimestamps', sessionId.current);\n    const docSnap = await getDoc(docRef);\n    if (docSnap.exists()) {\n      return docSnap.data().totalTime;\n    }\n  };\n\n  const handleChange = (e: React.FormEvent<HTMLInputElement>) => {\n    setName(e.currentTarget.value);\n  };\n\n  const formProps: LeaderboardFormProps = {\n    submitName: submitName,\n    handleChange: handleChange,\n    name: name,\n  };\n\n  return !nameEntered ? (\n    <>\n      <LeaderboardForm {...formProps} />\n    </>\n  ) : (\n    <>\n      <Header />\n      <div className='leaderboard'>\n        <div className='leaderboard-inner'>\n          <div className='leaderboard-title'>{stage.current.displayName}</div>\n          {leaderboard.map((entry, index) => {\n            entry.position = index + 1;\n            return <LeaderboardRow entry={entry} />;\n          })}\n          {userIsInTop10 ? null : (\n            <LeaderboardRow\n              entry={{ name: name, score: score, isUser: true }}\n            />\n          )}\n          <Link\n            className='pregame__start-game-button link'\n            to={{\n              pathname: '/',\n            }}\n            replace>\n            HOME\n          </Link>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport { Leaderboard };\n","// FIREBASE\nimport { useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCT6VF6-hpwrvyxLt5FsnZ6lbhpk6F0TJs',\n  authDomain: 'waldo-top.firebaseapp.com',\n  projectId: 'waldo-top',\n  storageBucket: 'waldo-top.appspot.com',\n  messagingSenderId: '528968030396',\n  appId: '1:528968030396:web:1f7ce4fd8d58c9cc0718b9',\n};\n\nconst useFirebase = () => {\n  useEffect(() => {\n    initializeApp(firebaseConfig);\n  }, []);\n};\n\nexport { useFirebase };\n","import { useRef } from 'react';\nimport { Home } from './pages/Home';\nimport { Pregame } from './pages/Pregame';\nimport { Gameplay } from './pages/Gameplay';\nimport { Leaderboard } from './pages/Leaderboard';\nimport { Switch, Route, BrowserRouter } from 'react-router-dom';\nimport { Stage, Character } from './types';\nimport { StageContext, StageContextType } from './context/StageContext';\nimport { useFirebase } from './hooks/useFirebase';\n\nfunction App() {\n  const stages = useRef<Stage[]>([\n    {\n      id: 'waldo-stage-1',\n      path: 'stage-1',\n      displayName: 'The Deep Sea Divers',\n      characterIds: ['waldo', 'wenda', 'whitebeard'],\n    },\n    {\n      id: 'waldo-stage-2',\n      path: 'stage-2',\n      displayName: 'The Great Ball Game Players',\n      characterIds: ['waldo', 'odlaw', 'whitebeard'],\n    },\n    {\n      id: 'waldo-stage-3',\n      path: 'stage-3',\n      displayName: 'The Great Escape',\n      characterIds: ['waldo', 'wenda', 'odlaw', 'whitebeard'],\n    },\n    {\n      id: 'waldo-stage-4',\n      path: 'stage-4',\n      displayName: 'Horseplay in Troy',\n      characterIds: ['waldo', 'wenda', 'odlaw', 'whitebeard'],\n    },\n  ]);\n\n  const characters = useRef<Character[]>([\n    { id: 'waldo', path: 'waldo', displayName: 'Waldo' },\n    { id: 'odlaw', path: 'odlaw', displayName: 'Odlaw' },\n    { id: 'wenda', path: 'wenda', displayName: 'Wenda' },\n    { id: 'whitebeard', path: 'whitebeard', displayName: 'Wizard Whitebeard' },\n  ]);\n\n  let stageContextValue: StageContextType = {\n    stages: stages.current,\n    characters: characters.current,\n  };\n\n  useFirebase();\n\n  return (\n    <StageContext.Provider value={stageContextValue}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path='/' component={Home}></Route>\n          <Route exact path='/pregame' component={Pregame}></Route>\n          <Route path='/leaderboard' component={Leaderboard}></Route>\n          <Route path='/gameplay' component={Gameplay}></Route>\n        </Switch>\n      </BrowserRouter>\n    </StageContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/reset.css';\nimport './styles/fonts.css';\nimport './styles/styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}