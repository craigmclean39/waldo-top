(this["webpackJsonpwaldo-top"]=this["webpackJsonpwaldo-top"]||[]).push([[0],{40:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/odlaw-small.208e5d8b.png"},41:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/waldo-small.074e131a.png"},42:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/wenda-small.a4f24bd9.png"},43:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/whitebeard-small.e4d48c9e.png"},54:function(e,t,a){var r={"./stage-1/thumbnail.png":55,"./stage-2/thumbnail.png":56,"./stage-3/thumbnail.png":57,"./stage-4/thumbnail.png":58};function n(e){var t=c(e);return a(t)}function c(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=c,e.exports=n,n.id=54},55:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/thumbnail.5d55d6f9.png"},56:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/thumbnail.baa3b0f4.png"},57:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/thumbnail.9a5d32c3.png"},58:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/thumbnail.94a99faf.png"},66:function(e,t,a){var r={"./stage-1/gameplay.png":67,"./stage-2/gameplay.png":68,"./stage-3/gameplay.png":69,"./stage-4/gameplay.png":70};function n(e){var t=c(e);return a(t)}function c(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=c,e.exports=n,n.id=66},67:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/gameplay.3d124ddf.png"},68:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/gameplay.f0da6319.png"},69:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/gameplay.29a41106.png"},70:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/gameplay.70ed3b11.png"},71:function(e,t,a){var r={"./odlaw-small.png":40,"./odlaw.png":72,"./waldo-small.png":41,"./waldo.png":73,"./wenda-small.png":42,"./wenda.png":74,"./whitebeard-small.png":43,"./whitebeard.png":75};function n(e){var t=c(e);return a(t)}function c(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=c,e.exports=n,n.id=71},72:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/odlaw.64657574.png"},73:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/waldo.74bef414.png"},74:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/wenda.645fc250.png"},75:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/whitebeard.2f7a3c16.png"},77:function(e,t,a){var r={"./odlaw-small.png":40,"./waldo-small.png":41,"./wenda-small.png":42,"./whitebeard-small.png":43};function n(e){var t=c(e);return a(t)}function c(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=c,e.exports=n,n.id=77},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a.n(r),c=a(45),s=a.n(c),i=a(26),u=a(12),o=n.a.createContext(null),d=a(4),l=function(e){var t=e.stage,r=e.selectStage,n=a(54)("./".concat(t.path,"/thumbnail.png")).default;return Object(d.jsxs)("div",{className:"stage-card",children:[Object(d.jsx)("h4",{className:"stage-card__title",children:t.displayName}),Object(d.jsx)("img",{className:"stage-card__image",src:n,alt:t.id,onClick:function(){return r(t)}})]})},b=function(e){var t=e.stages,a=e.selectStage,r=t.map((function(e){return Object(d.jsx)(l,{stage:e,selectStage:a},e.id)}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"full-screen-flex",children:Object(d.jsxs)("div",{className:"inner-container",children:[Object(d.jsx)("h3",{className:"stage-select__title",children:"Select your stage"}),Object(d.jsx)("div",{className:"inner-container-flex",children:r})]})})})},p=a(11),j=a.p+"static/media/logo.bffd375b.png",f=function(e){var t=e.hasTimer,a=e.stopTimer,n=Object(u.f)(),c=Object(r.useRef)(),s=Object(r.useState)(""),i=Object(p.a)(s,2),o=i[0],l=i[1],b=Object(r.useRef)(0),f=Object(r.useCallback)((function(){a||(b.current=b.current+100),l((b.current/1e3).toFixed(2))}),[a]);Object(r.useEffect)((function(){return t&&(c.current=setInterval(f,100)),function(){t&&clearInterval(c.current)}}),[t,a,f]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("div",{className:"innerHeader",children:[Object(d.jsx)("div",{onClick:function(){n.replace({pathname:"/"})},children:Object(d.jsxs)("div",{className:"header__title-logo",children:[Object(d.jsx)("img",{src:j,className:"header__logo",alt:""}),Object(d.jsxs)("div",{className:"header__title-flex",children:[Object(d.jsx)("h1",{className:"header__title title-blue",children:"WHERE'S"}),Object(d.jsx)("h1",{className:"header__title title-red",children:"WALDO"})]})]})}),t?Object(d.jsx)("div",{className:"timer",children:o}):null]})}),Object(d.jsx)("div",{className:"invisible-header"})]})},m=function(){var e=Object(r.useContext)(o),t=e.stages,a=e.characters,n=Object(u.f)(),c={stages:t,selectStage:function(e){for(var t=[],r=0;r<e.characterIds.length;r++)for(var c=0;c<a.length;c++)e.characterIds[r]===a[c].id&&t.push(a[c]);n.push({pathname:"/pregame",state:{stage:e,characters:t}})}};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{})," ",Object(d.jsx)(b,Object(i.a)({},c))]})},h=a(28),O=function(){var e=Object(u.g)(),t=e.state.stage,r=a(66)("./".concat(t.path,"/gameplay.png")).default,n=e.state.characters.map((function(e){return Object(d.jsx)("img",{className:"pregame__character",src:a(71)("./".concat(e.path,".png")).default,alt:e.displayName},e.path)}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),Object(d.jsx)("div",{className:"pregame-flex",children:Object(d.jsxs)("div",{className:"pregame",children:[Object(d.jsxs)("div",{className:"pregame__text-container",children:[Object(d.jsx)("h3",{className:"pregame__title",children:t.displayName}),Object(d.jsx)("p",{className:"pregame__description",children:"Find the following characters"})]}),Object(d.jsx)("div",{className:"pregame__characters-container",children:n}),Object(d.jsx)(h.b,{className:"pregame__start-game-button link",to:{pathname:"/gameplay",state:{stage:e.state.stage,image:r,characters:e.state.characters}},replace:!0,children:"START GAME"})]})})]})},g=a(23),x=a(0),v=a.n(x),w=a(3),y=function(e){var t=e.x,r=e.y,n=e.characters,c=e.checkCharacter,s=e.characterStatus;return Object(d.jsx)("div",{className:"character-select",style:{top:r,left:t},children:n.map((function(e){for(var t="",r=0;r<s.length;r++)e.id===s[r].characterId&&(t=s[r].found?"character--inactive":"character--selectable");return Object(d.jsx)("img",{src:a(77)("./".concat(e.path,"-small.png")).default,onClick:function(){c(e.id)},alt:e.displayName,className:"character-select__character ".concat(t)},e.id)}))})},N=a.p+"static/media/focus.d21650fc.png",k=a(13),_=function(){var e=Object(u.g)(),t=Object(r.useRef)(e.state.image),a=Object(r.useRef)(e.state.stage),n=Object(r.useRef)(e.state.characters),c=Object(r.useState)([]),s=Object(p.a)(c,2),o=s[0],l=s[1],b=Object(r.useState)(!1),j=Object(p.a)(b,2),m=j[0],h=j[1],O=Object(r.useState)(0),x=Object(p.a)(O,2),_=x[0],S=x[1],T=Object(r.useState)(0),E=Object(p.a)(T,2),I=E[0],C=E[1],F=Object(r.useState)(0),D=Object(p.a)(F,2),M=D[0],U=D[1],R=Object(r.useState)(0),L=Object(p.a)(R,2),W=L[0],X=L[1],A=Object(r.useState)([]),B=Object(p.a)(A,2),G=B[0],H=B[1],P=Object(r.useState)(""),z=Object(p.a)(P,2),J=z[0],Y=z[1],q=Object(r.useState)(!1),K=Object(p.a)(q,2),V=K[0],Z=K[1],Q=Object(u.f)(),$=null,ee=Object(r.useState)(0),te=Object(p.a)(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)(0),ce=Object(p.a)(ne,2),se=ce[0],ie=ce[1],ue=Object(r.useState)(!1),oe=Object(p.a)(ue,2),de=oe[0],le=oe[1],be=Object(r.useState)(""),pe=Object(p.a)(be,2),je=pe[0],fe=pe[1];Object(r.useEffect)((function(){H(n.current.map((function(e){return{characterId:e.id,found:!1}})))}),[]),Object(r.useEffect)((function(){he()}),[]),Object(r.useEffect)((function(){window.addEventListener("resize",(function(){null!=$&&(ie($.offsetTop),re($.offsetLeft))}))}),[$]);var me=function(e){h(!m),S(e.pageX-ae),C(e.pageY-se),U(e.pageX),X(e.pageY),window.innerWidth-e.clientX<160&&U(e.pageX-(160-(window.innerWidth-e.clientX)))},he=function(){var e=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)(Object(k.b)(Object(k.g)(),"userTimestamps"),{startTime:Object(k.k)()});case 2:return t=e.sent,Y(t.id),e.abrupt("return",t.id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(w.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.l)(t,{endTime:a},{merge:!0});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(w.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.l)(t,{totalTime:a},{merge:!0});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(w.a)(v.a.mark((function e(){var t,a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(k.k)(),a=Object(k.d)(Object(k.g)(),"userTimestamps",J),e.next=4,Object(k.e)(a);case 4:if(!e.sent.exists()){e.next=18;break}return e.next=8,Oe(a,t);case 8:return e.next=10,Object(k.e)(a);case 10:if(!(r=e.sent).exists()){e.next=16;break}return n=(r.data().endTime.toMillis()-r.data().startTime.toMillis())/1e3,n=Number(n.toPrecision(4)),e.next=16,ge(a,n);case 16:e.next=18;break;case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(w.a)(v.a.mark((function e(t){var r,c,s,i,u,d,b,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(k.d)(Object(k.g)(),"characterPositions","".concat(a.current.path)),e.next=3,Object(k.e)(r);case 3:if(!(c=e.sent).exists()){e.next=34;break}if(s=c.get(t),j=_,f=I,m=s[0],O=s[1],x=25,!(Math.sqrt(Math.pow(j-m,2)+Math.pow(f-O,2))<=x)){e.next=32;break}i=0;case 8:if(!(i<G.length)){e.next=32;break}if(G[i].characterId!==t){e.next=29;break}if(G[i].found){e.next=29;break}(u=Object(g.a)(G))[i].found=!0,H(u),d=Object(g.a)(o),b={x:_,y:I},d.push(b),l(d),le(!0),p=0;case 20:if(!(p<n.current.length)){e.next=27;break}if(n.current[p].id!==t){e.next=24;break}return fe(n.current[p].displayName),e.abrupt("break",27);case 24:p++,e.next=20;break;case 27:return setTimeout((function(){le(!1)}),1500),e.abrupt("break",32);case 29:i++,e.next=8;break;case 32:e.next=34;break;case 34:h(!1),we();case 36:case"end":return e.stop()}var j,f,m,O,x}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(w.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,a=0;case 2:if(!(a<G.length)){e.next=9;break}if(!1!==G[a].found){e.next=6;break}return t=!1,e.abrupt("break",9);case 6:a++,e.next=2;break;case 9:if(!t){e.next=14;break}return Z(!0),e.next=13,xe();case 13:setTimeout(ye,1e3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){Q.replace({pathname:"/leaderboard",state:{stage:a.current,sessionId:J}})},Ne={hasTimer:!0,stopTimer:V},ke=o.map((function(e){return Object(d.jsx)("img",{src:N,alt:"",className:"reticle",style:{top:e.y-25+se,left:e.x-25+ae}})}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,Object(i.a)({},Ne)),m?Object(d.jsx)(y,{x:M,y:W,checkCharacter:ve,characters:n.current,characterStatus:G}):null,Object(d.jsx)("div",{className:"gameplay__image-flex",children:Object(d.jsx)("img",{ref:function(e){null!=e&&(re(e.offsetLeft),ie(e.offsetTop),$=e)},src:t.current,alt:a.current.id,onClick:function(e){me(e)}})}),ke,de?Object(d.jsx)("div",{className:"gameplay__found-container",onClick:function(e){le(!1),me(e)},children:Object(d.jsx)("div",{className:"gameplay__found slide-in-fwd-center",children:"You found ".concat(je)})}):null]})},S=function(e){var t=e.entry;return Object(d.jsxs)("div",{className:t.isUser?"leaderboard-entry leaderboard-user":"leaderboard-entry",children:[Object(d.jsxs)("div",{className:"leaderboard-pos-name",children:[Object(d.jsx)("div",{className:"leaderboard-position",children:t.position}),Object(d.jsx)("div",{className:"leaderboard-name",children:t.name})]}),Object(d.jsx)("div",{className:"leaderboard-score",children:t.score})]},t.name+t.score)},T=function(e){var t=e.submitName,a=e.handleChange,r=e.name;return Object(d.jsxs)("div",{className:"leaderboard-form-container",children:[Object(d.jsx)("div",{className:"leaderboard-form__title",children:"Enter your name"}),Object(d.jsxs)("form",{className:"leaderboard-form",onSubmit:t,children:[Object(d.jsx)("input",{className:"leaderboard-form__text-input",type:"text",onChange:a,value:r,maxLength:15}),Object(d.jsx)("button",{className:"pregame__start-game-button",type:"submit",children:"SUBMIT"})]})]})},E=function(){var e=Object(u.g)(),t=Object(r.useRef)(e.state.sessionId),a=Object(r.useRef)(e.state.stage),n=Object(r.useState)(!1),c=Object(p.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)(""),b=Object(p.a)(l,2),j=b[0],m=b[1],O=Object(r.useState)([]),g=Object(p.a)(O,2),x=g[0],y=g[1],N=Object(r.useState)(0),_=Object(p.a)(N,2),E=_[0],I=_[1],C=Object(r.useState)(!1),F=Object(p.a)(C,2),D=F[0],M=F[1],U=function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,L();case 3:return e.next=5,W();case 5:return e.next=7,R();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(w.a)(v.a.mark((function e(){var r,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(k.b)(Object(k.g)(),"".concat(a.current.path,"-leaderboard")),n=Object(k.j)(r,Object(k.i)("score"),Object(k.h)(10)),c=[],e.next=5,Object(k.f)(n);case 5:e.sent.forEach((function(e){e.data().sessionId===t.current&&M(!0);var a={name:e.data().name,score:e.data().score,isUser:e.data().sessionId===t.current};c.push(a)})),y(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(w.a)(v.a.mark((function e(){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:return r=e.sent,I(r),e.next=6,Object(k.a)(Object(k.b)(Object(k.g)(),"".concat(a.current.path,"-leaderboard")),{name:j,score:r,sessionId:t.current});case 6:o(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(w.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)(Object(k.d)(Object(k.g)(),"userTimestamps",t.current));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(w.a)(v.a.mark((function e(){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(k.d)(Object(k.g)(),"userTimestamps",t.current),e.next=3,Object(k.e)(a);case 3:if(!(r=e.sent).exists()){e.next=6;break}return e.abrupt("return",r.data().totalTime);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A={submitName:U,handleChange:function(e){m(e.currentTarget.value)},name:j};return s?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),Object(d.jsx)("div",{className:"leaderboard",children:Object(d.jsxs)("div",{className:"leaderboard-inner",children:[Object(d.jsx)("div",{className:"leaderboard-title",children:a.current.displayName}),x.map((function(e,t){return e.position=t+1,Object(d.jsx)(S,{entry:e})})),D?null:Object(d.jsx)(S,{entry:{name:j,score:E,isUser:!0}}),Object(d.jsx)(h.b,{className:"pregame__start-game-button link",to:{pathname:"/"},replace:!0,children:"HOME"})]})})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(T,Object(i.a)({},A))})},I=a(48),C={apiKey:"AIzaSyCT6VF6-hpwrvyxLt5FsnZ6lbhpk6F0TJs",authDomain:"waldo-top.firebaseapp.com",projectId:"waldo-top",storageBucket:"waldo-top.appspot.com",messagingSenderId:"528968030396",appId:"1:528968030396:web:1f7ce4fd8d58c9cc0718b9"};var F=function(){var e=Object(r.useRef)([{id:"waldo-stage-1",path:"stage-1",displayName:"The Deep Sea Divers",characterIds:["waldo","wenda","whitebeard"]},{id:"waldo-stage-2",path:"stage-2",displayName:"The Great Ball Game Players",characterIds:["waldo","odlaw","whitebeard"]},{id:"waldo-stage-3",path:"stage-3",displayName:"The Great Escape",characterIds:["waldo","wenda","odlaw","whitebeard"]},{id:"waldo-stage-4",path:"stage-4",displayName:"Horseplay in Troy",characterIds:["waldo","wenda","odlaw","whitebeard"]}]),t=Object(r.useRef)([{id:"waldo",path:"waldo",displayName:"Waldo"},{id:"odlaw",path:"odlaw",displayName:"Odlaw"},{id:"wenda",path:"wenda",displayName:"Wenda"},{id:"whitebeard",path:"whitebeard",displayName:"Wizard Whitebeard"}]),a={stages:e.current,characters:t.current};return Object(r.useEffect)((function(){Object(I.a)(C)}),[]),Object(d.jsx)(o.Provider,{value:a,children:Object(d.jsx)(h.a,{basename:"/waldo-top",children:Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/",component:m}),Object(d.jsx)(u.a,{exact:!0,path:"/pregame",component:O}),Object(d.jsx)(u.a,{path:"/leaderboard",component:E}),Object(d.jsx)(u.a,{path:"/gameplay",component:_})]})})})};a(79),a(80),a(81);s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(F,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.f3b7a6f8.chunk.js.map